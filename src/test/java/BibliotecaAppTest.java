/*
 * This Java source file was generated by the Gradle 'init' task.
 */
import org.junit.Before;
import org.junit.Test;
import static org.junit.Assert.*;
import static org.mockito.Mockito.*;

public class BibliotecaAppTest {

    private BibliotecaApp bibliotecaApp;
    private ConsoleOutput output;

    @Before
    public void testSet() {
        output = mock(ConsoleOutput.class);
        bibliotecaApp = new BibliotecaApp(output);
    }

    @Test
    public void testPrintBookList() {
        String actualPrint = bibliotecaApp.printBookList();
        String expectPrint = "Test-driven Development\n" +
                "Refactoring: Improving the Design of Existing Code\n" +
                "Head First Java\n" +
                "Core Java Volume I\n";

        assertEquals(expectPrint,actualPrint);
    }

    @Test
    public void testPrintBookListWithDetail() {
        String actualPrint = bibliotecaApp.printBooksDetail();
        String expectPrint = "Book Name                                                             Author                                                                Year Published                                                        \n" +
                "Test-driven Development                                               Kent Beck                                                             2003                                                                  \n" +
                "Refactoring: Improving the Design of Existing Code                    Martin Fowler                                                         2012                                                                  \n" +
                "Head First Java                                                       Kathy Sierra, Bert Bates                                              2003                                                                  \n" +
                "Core Java Volume I                                                    Cay S. Horstmann                                                      2015                                                                  \n";

        assertEquals(expectPrint, actualPrint);
    }

    @Test
    public void shouldPrintMainMenu() {
        bibliotecaApp.printMainMenu();

        verify(output, times(1)).print("Main Manu:\n * 1. List Books\n * 0. exit");
    }

    @Test
    public void testShowInvalidMessage() {
        String expectPrint = "Select a valid option!";
        String actualPrint = bibliotecaApp.printWrongInstructionMessage();

        assertEquals(expectPrint, actualPrint);
    }

    @Test
    public void testPrintQuitMessage() {
        String expectPrint = "Goodbye!";
        String actualPrint = bibliotecaApp.printQuitMessage();

        assertEquals(expectPrint, actualPrint);
    }

    @Test
    public void shouldPrintWelcomeMessage() throws Exception {
        bibliotecaApp.printWelcomeMessage();

        verify(output, times(1)).print("Welcome to Biblioteca\n------------------------------------------");
    }
}
